<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <title>Pig Kockaj√°t√©k</title>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Cinzel', serif;
      background-image: url('images/background.jpg.jpg');
      background-size: cover;
      background-position: center;
      color: white;
      margin: 0;
      padding: 20px;
      text-align: center;
    }
    h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
      background-color: rgba(0, 0, 0, 0.7);
      padding: 10px;
      border-radius: 10px;
      display: inline-block;
    }
    #gameArea {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 20px;
      margin: 20px 0;
    }
    .player-section {
      background-color: rgba(0, 0, 0, 0.6);
      padding: 15px;
      border-radius: 10px;
      min-width: 250px;
    }
    .active-player {
      border: 2px solid #7f00ff;
      box-shadow: 0 0 15px #7f00ff;
    }
    .score {
      font-size: 2.5rem;
      margin: 10px 0;
    }
    .current-box {
      background-color: rgba(127, 0, 255, 0.4);
      padding: 10px;
      border-radius: 5px;
      margin-top: 15px;
    }
    .dice {
      font-size: 3.5rem;
      margin: 20px 0;
      animation: rollDice 0.5s ease-out;
    }
    @keyframes rollDice {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    #controls {
      margin-top: 20px;
    }
    button {
      font-size: 1.1rem;
      padding: 10px 20px;
      margin: 5px;
      border-radius: 5px;
      border: none;
      cursor: pointer;
      background-color: #7f00ff;
      color: white;
      box-shadow: 0 0 10px #7f00ff;
      transition: transform 0.2s, box-shadow 0.3s;
    }
    button:hover {
      background-color: #a94bff;
      transform: scale(1.05);
      box-shadow: 0 0 15px #a94bff;
    }
    #result {
      font-size: 1.2rem;
      background-color: rgba(0, 0, 0, 0.6);
      padding: 10px;
      border-radius: 8px;
      display: inline-block;
      margin-top: 15px;
    }
    #resetContainer {
      display: none;
      margin-top: 20px;
    }
    .winner {
      color: #7fff7f;
      font-weight: bold;
      text-shadow: 1px 1px 4px black;
    }
  </style>
</head>
<body>

<h1>Pig Kockaj√°t√©k</h1>

<div id="gameArea">
  <div id="playerSection" class="player-section active-player">
    <h2>J√°t√©kos</h2>
    <div class="score" id="playerTotalScore">0</div>
    <div class="current-box">
      <p>Aktu√°lis k√∂r</p>
      <div id="playerCurrentScore">0</div>
    </div>
  </div>
  
  <div id="diceSection">
    <div id="dice" class="dice">üé≤</div>
  </div>
  
  <div id="botSection" class="player-section">
    <h2>Sz√°m√≠t√≥g√©p</h2>
    <div class="score" id="botTotalScore">0</div>
    <div class="current-box">
      <p>Aktu√°lis k√∂r</p>
      <div id="botCurrentScore">0</div>
    </div>
  </div>
</div>

<div id="controls">
  <button id="rollBtn" onclick="rollDice()">Dob√°s</button>
  <button id="holdBtn" onclick="hold()">Tart√°s</button>
</div>

<div id="result"></div>

<div id="resetContainer">
  <button onclick="startGame()">√öj j√°t√©k</button>
</div>

<script>
// J√°t√©k v√°ltoz√≥k
let scores = [0, 0]; // [j√°t√©kos, sz√°m√≠t√≥g√©p]
let currentScore = 0;
let activePlayer = 0; // 0 = j√°t√©kos, 1 = sz√°m√≠t√≥g√©p
let gameActive = true;

// DOM elemek
const diceEl = document.getElementById('dice');
const playerSection = document.getElementById('playerSection');
const botSection = document.getElementById('botSection');
const resultEl = document.getElementById('result');

// J√°t√©k ind√≠t√°sa
function startGame() {
  scores = [0, 0];
  currentScore = 0;
  activePlayer = 0;
  gameActive = true;
  
  // UI vissza√°ll√≠t√°sa
  document.getElementById('playerTotalScore').textContent = '0';
  document.getElementById('botTotalScore').textContent = '0';
  document.getElementById('playerCurrentScore').textContent = '0';
  document.getElementById('botCurrentScore').textContent = '0';
  diceEl.textContent = 'üé≤';
  resultEl.textContent = '';
  document.getElementById('resetContainer').style.display = 'none';
  
  // Gombok enged√©lyez√©se
  document.getElementById('rollBtn').disabled = false;
  document.getElementById('holdBtn').disabled = false;
  
  // Akt√≠v j√°t√©kos kijel√∂l√©se
  playerSection.classList.add('active-player');
  botSection.classList.remove('active-player');
  
  displayMessage('A j√°t√©k kezd≈ëdik! Dobj a kock√°val.');
}

// Kockadob√°s funkci√≥
function rollDice() {
  if (!gameActive) return;
  
  // Ha a sz√°m√≠t√≥g√©p k√∂re van, ne engedj√ºk a j√°t√©kosnak dobni
  if (activePlayer === 1) {
    displayMessage('A sz√°m√≠t√≥g√©p k√∂re van, v√°rj t√ºrelemmel!');
    return;
  }
  
  // Kockadob√°s anim√°ci√≥ √©s eredm√©ny
  const diceValue = Math.floor(Math.random() * 6) + 1;
  diceEl.style.animation = 'none';
  setTimeout(() => {
    diceEl.style.animation = 'rollDice 0.5s ease-out';
    diceEl.textContent = `üé≤${diceValue}`;
  }, 10);
  
  // Dob√°s feldolgoz√°sa
  if (diceValue !== 1) {
    // Hozz√°adjuk a pontokat az aktu√°lis k√∂rh√∂z
    currentScore += diceValue;
    document.getElementById(`${activePlayer === 0 ? 'player' : 'bot'}CurrentScore`).textContent = currentScore;
    displayMessage(`Dobt√°l egy ${diceValue}-t! Folytatod vagy tartod?`);
  } else {
    // Egyes dob√°s - k√∂rpontok elveszt√©se
    displayMessage('Sajnos 1-est dobt√°l! A k√∂r pontjai elvesztek.');
    currentScore = 0;
    document.getElementById(`${activePlayer === 0 ? 'player' : 'bot'}CurrentScore`).textContent = '0';
    
    // J√°t√©kos v√°lt√°s
    setTimeout(switchPlayer, 1500);
  }
}

// Tart√°s funkci√≥
function hold() {
  if (!gameActive || activePlayer === 1) return;
  
  // K√∂r pontjainak hozz√°ad√°sa az √∂sszpontsz√°mhoz
  scores[activePlayer] += currentScore;
  document.getElementById(`${activePlayer === 0 ? 'player' : 'bot'}TotalScore`).textContent = scores[activePlayer];
  
  // Gy≈ëzelem ellen≈ërz√©se
  if (scores[activePlayer] >= 100) {
    gameWon();
    return;
  }
  
  displayMessage('Tartottad a pontokat! A sz√°m√≠t√≥g√©p k√∂vetkezik.');
  
  // J√°t√©kos v√°lt√°s
  setTimeout(switchPlayer, 1000);
}

// J√°t√©kos v√°lt√°s
function switchPlayer() {
  currentScore = 0;
  document.getElementById(`${activePlayer === 0 ? 'player' : 'bot'}CurrentScore`).textContent = '0';
  activePlayer = activePlayer === 0 ? 1 : 0;
  
  // Akt√≠v j√°t√©kos vizu√°lis jel√∂l√©se
  playerSection.classList.toggle('active-player');
  botSection.classList.toggle('active-player');
  
  // Ha a sz√°m√≠t√≥g√©p k√∂vetkezik
  if (activePlayer === 1) {
    displayMessage('A sz√°m√≠t√≥g√©p k√∂vetkezik...');
    setTimeout(botTurn, 1000);
  } else {
    displayMessage('Te k√∂vetkezel! Dobj a kock√°val.');
  }
}

// Sz√°m√≠t√≥g√©p k√∂re
function botTurn() {
  if (!gameActive) return;
  
  // Sz√°m√≠t√≥g√©p strat√©gi√°ja: addig dob, am√≠g legal√°bb 20 pontot nem gy≈±jt, vagy 1-est nem dob
  const botThink = setTimeout(function botThinking() {
    // Kockadob√°s
    const diceValue = Math.floor(Math.random() * 6) + 1;
    diceEl.style.animation = 'none';
    setTimeout(() => {
      diceEl.style.animation = 'rollDice 0.5s ease-out';
      diceEl.textContent = `üé≤${diceValue}`;
    }, 10);
    
    // Dob√°s eredm√©ny√©nek feldolgoz√°sa
    if (diceValue !== 1) {
      currentScore += diceValue;
      document.getElementById('botCurrentScore').textContent = currentScore;
      displayMessage(`A sz√°m√≠t√≥g√©p ${diceValue}-t dobott. √ñsszesen: ${currentScore}`);
      
      // D√∂nt√©s: folytatja vagy tartja
      if (currentScore >= 20 || scores[1] + currentScore >= 100 || Math.random() > 0.7) {
        // Tartja a pontokat
        setTimeout(() => {
          displayMessage('A sz√°m√≠t√≥g√©p tartja a pontokat.');
          scores[1] += currentScore;
          document.getElementById('botTotalScore').textContent = scores[1];
          
          // Gy≈ëzelem ellen≈ërz√©se
          if (scores[1] >= 100) {
            gameWon();
            return;
          }
          
          setTimeout(switchPlayer, 1000);
        }, 1000);
      } else {
        // √öjra dob
        setTimeout(botThinking, 1500);
      }
    } else {
      // Egyes dob√°s - elveszti a k√∂r pontjait
      displayMessage('A sz√°m√≠t√≥g√©p 1-est dobott! Elveszti a k√∂r pontjait.');
      currentScore = 0;
      document.getElementById('botCurrentScore').textContent = '0';
      setTimeout(switchPlayer, 1500);
    }
  }, 1500);
}

// J√°t√©k megnyer√©se
function gameWon() {
  gameActive = false;
  const winner = activePlayer === 0 ? 'J√°t√©kos' : 'Sz√°m√≠t√≥g√©p';
  resultEl.innerHTML = `<span class="winner">${winner} nyerte a j√°t√©kot ${scores[activePlayer]} ponttal!</span>`;
  document.getElementById('resetContainer').style.display = 'block';
  
  // Gombok letilt√°sa
  document.getElementById('rollBtn').disabled = true;
  document.getElementById('holdBtn').disabled = true;
}

// √úzenet megjelen√≠t√©se
function displayMessage(message) {
  resultEl.textContent = message;
}

// J√°t√©k ind√≠t√°sa
startGame();
</script>

</body>
</html>
