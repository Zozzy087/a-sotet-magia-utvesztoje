<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <title>√Årnykocka ‚Äì A L√©lekpr√≥ba</title>
  <style>
    body {
      background-color: #111;
      color: #eee;
      font-family: 'Georgia', serif;
      text-align: center;
      padding: 2rem;
    }
    button {
      background-color: #333;
      color: #eee;
      border: 2px solid #555;
      padding: 0.5rem 1rem;
      font-size: 1.1rem;
      margin: 0.5rem;
      cursor: pointer;
    }
    #log {
      margin-top: 2rem;
      background: #222;
      padding: 1rem;
      border: 1px solid #444;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }
  </style>
</head>
<body>

  <h1>√Årnykocka ‚Äì A L√©lekpr√≥ba</h1>
  <p>Els≈ëk√©nt 5 l√©lekesszenci√°t gy≈±jt≈ë j√°t√©kos nyer!</p>

  <p><strong>J√°t√©kos 1 pontjai:</strong> <span id="p1">0</span> | <strong>J√°t√©kos 2 pontjai:</strong> <span id="p2">0</span></p>

  <button onclick="rollDice()">üé≤ Dob√°s & Bemond√°s</button>
  <button onclick="callBluff()">üß† Bl√∂ff√∂t h√≠vok</button>
  <button onclick="accept()">‚úîÔ∏è Elfogadom</button>

  <div id="log">
    <p><em>A k√∂r√∂k esem√©nyei itt fognak megjelenni.</em></p>
  </div>

  <script>
    let currentPlayer = 1;
    let p1Score = 0;
    let p2Score = 0;
    let actualValue = 0;
    let declaredValue = 0;
    let bluffing = false;

    function getRandomDie(sides = 6) {
      return Math.floor(Math.random() * sides) + 1;
    }

    function rollDice() {
      let small1 = getRandomDie();
      let small2 = getRandomDie();
      let big = getRandomDie(); // nagy kocka

      actualValue = small1 + small2 + (big * 2);
      bluffing = Math.random() < 0.5; // v√©letlenszer≈± bl√∂ff
      declaredValue = bluffing ? actualValue + getRandomDie(4) : actualValue;

      log(`üé≤ <strong>J√°t√©kos ${currentPlayer}</strong> dobott √©s bemondta: <strong>${declaredValue}</strong>`);
    }

    function callBluff() {
      if (bluffing) {
        log(`üß† Bl√∂ff helyes! <strong>J√°t√©kos ${currentPlayer} vesz√≠t 1 pontot.</strong>`);
        if (currentPlayer === 1 && p1Score > 0) p1Score--;
        if (currentPlayer === 2 && p2Score > 0) p2Score--;
      } else {
        log(`‚ùå T√©ves v√°d! <strong>J√°t√©kos ${other()} vesz√≠t 1 pontot.</strong>`);
        if (currentPlayer === 1 && p2Score > 0) p2Score--;
        if (currentPlayer === 2 && p1Score > 0) p1Score--;
      }
      nextRound();
    }

    function accept() {
      if (declaredValue === actualValue) {
        log(`‚úîÔ∏è Igazat mondott! <strong>J√°t√©kos ${currentPlayer} kap 1 pontot.</strong>`);
        if (currentPlayer === 1) p1Score++;
        else p2Score++;
      } else {
        log(`‚ö†Ô∏è Kider√ºlt a hazugs√°g! <strong>J√°t√©kos ${other()} kap 1 pontot.</strong>`);
        if (currentPlayer === 1) p2Score++;
        else p1Score++;
      }
      nextRound();
    }

    function nextRound() {
      document.getElementById("p1").textContent = p1Score;
      document.getElementById("p2").textContent = p2Score;

      if (p1Score >= 5) {
        log(`<strong>üëë J√°t√©kos 1 megid√©zte a d√©mont! Nyer!</strong>`);
        disableButtons();
      } else if (p2Score >= 5) {
        log(`<strong>üëë J√°t√©kos 2 megid√©zte a d√©mont! Nyer!</strong>`);
        disableButtons();
      } else {
        currentPlayer = currentPlayer === 1 ? 2 : 1;
        log(`<em>‚û°Ô∏è Most J√°t√©kos ${currentPlayer} k√∂vetkezik.</em>`);
      }
    }

    function other() {
      return currentPlayer === 1 ? 2 : 1;
    }

    function log(text) {
      const logBox = document.getElementById("log");
      const entry = document.createElement("p");
      entry.innerHTML = text;
      logBox.appendChild(entry);
      logBox.scrollTop = logBox.scrollHeight;
    }

    function disableButtons() {
      document.querySelectorAll("button").forEach(btn => btn.disabled = true);
    }
  </script>
</body>
</html>
