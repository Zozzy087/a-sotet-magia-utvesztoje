<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <title>Pig Kockaj√°t√©k</title>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Cinzel', serif;
      background-image: url('images/background.jpg.jpg');
      background-size: cover;
      background-position: center;
      color: white;
      margin: 0;
      padding: 20px;
      text-align: center;
    }
    h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
      background-color: rgba(0, 0, 0, 0.7);
      padding: 10px;
      border-radius: 10px;
      display: inline-block;
    }
    .game-container {
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
      max-width: 900px;
      margin: 0 auto;
    }
    .player-area {
      background-color: rgba(0, 0, 0, 0.6);
      padding: 15px;
      border-radius: 8px;
      margin: 10px;
      width: 300px;
    }
    .current-area {
      background-color: rgba(127, 0, 255, 0.3);
      padding: 10px;
      border-radius: 5px;
      margin-top: 10px;
    }
    .dice {
      font-size: 5rem;
      margin: 20px;
      display: inline-block;
    }
    #controls {
      margin-top: 20px;
    }
    button {
      font-size: 1rem;
      padding: 10px 20px;
      margin: 10px;
      border-radius: 5px;
      border: none;
      cursor: pointer;
      background-color: #7f00ff;
      color: white;
      box-shadow: 0 0 10px #7f00ff;
      transition: all 0.2s;
    }
    button:hover {
      background-color: #a94bff;
      transform: scale(1.05);
    }
    button:disabled {
      background-color: #666;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }
    #status {
      font-size: 1.2rem;
      background-color: rgba(0, 0, 0, 0.7);
      padding: 10px;
      border-radius: 5px;
      margin: 15px auto;
      max-width: 600px;
    }
    #resetContainer {
      display: none;
      margin-top: 20px;
    }
    .active-player {
      border: 2px solid #7f00ff;
      box-shadow: 0 0 15px #7f00ff;
    }
    .winner {
      border: 2px solid gold;
      box-shadow: 0 0 20px gold;
    }
  </style>
</head>
<body>

<h1>Pig Kockaj√°t√©k</h1>

<div id="status">Dobj a kock√°val, vagy √°llj meg!</div>

<div class="game-container">
  <div id="playerArea" class="player-area active-player">
    <h2>J√°t√©kos</h2>
    <h3>√ñsszpontsz√°m: <span id="playerScore">0</span></h3>
    <div class="current-area">
      <p>Aktu√°lis k√∂r: <span id="playerCurrent">0</span></p>
    </div>
  </div>

  <div class="dice-container">
    <div id="dice" class="dice">üé≤</div>
    <div id="controls">
      <button id="rollBtn" onclick="rollDice()">Dob√°s</button>
      <button id="holdBtn" onclick="hold()">Meg√°ll√°s</button>
    </div>
  </div>

  <div id="botArea" class="player-area">
    <h2>Sz√°m√≠t√≥g√©p</h2>
    <h3>√ñsszpontsz√°m: <span id="botScore">0</span></h3>
    <div class="current-area">
      <p>Aktu√°lis k√∂r: <span id="botCurrent">0</span></p>
    </div>
  </div>
</div>

<div id="resetContainer">
  <button onclick="startGame()">√öj j√°t√©k</button>
</div>

<script>
// J√°t√©k√°llapot
let playerScore = 0;
let botScore = 0;
let currentScore = 0;
let activePlayer = 'player'; // 'player' vagy 'bot'
let gameOver = false;

// Kocka √©rt√©kek √©s emojik
const diceEmojis = {
  1: '‚öÄ',
  2: '‚öÅ',
  3: '‚öÇ',
  4: '‚öÉ',
  5: '‚öÑ',
  6: '‚öÖ'
};

function startGame() {
  playerScore = 0;
  botScore = 0;
  currentScore = 0;
  activePlayer = 'player';
  gameOver = false;
  
  document.getElementById('playerScore').textContent = '0';
  document.getElementById('botScore').textContent = '0';
  document.getElementById('playerCurrent').textContent = '0';
  document.getElementById('botCurrent').textContent = '0';
  document.getElementById('dice').textContent = 'üé≤';
  document.getElementById('status').textContent = 'Dobj a kock√°val, vagy √°llj meg!';
  document.getElementById('resetContainer').style.display = 'none';
  
  document.getElementById('rollBtn').disabled = false;
  document.getElementById('holdBtn').disabled = false;
  
  document.getElementById('playerArea').classList.add('active-player');
  document.getElementById('botArea').classList.remove('active-player');
  document.getElementById('playerArea').classList.remove('winner');
  document.getElementById('botArea').classList.remove('winner');
}

function rollDice() {
  if (gameOver) return;
  
  // Kockadob√°s anim√°ci√≥
  document.getElementById('dice').textContent = 'üé≤';
  
  setTimeout(() => {
    // Random dob√°s 1-6
    const roll = Math.floor(Math.random() * 6) + 1;
    document.getElementById('dice').textContent = diceEmojis[roll];
    
    // Ha 1-est dob, elvesz√≠ti a k√∂rben szerzett pontokat
    if (roll === 1) {
      currentScore = 0;
      document.getElementById(`${activePlayer}Current`).textContent = '0';
      document.getElementById('status').textContent = `${activePlayer === 'player' ? 'J√°t√©kos' : 'Sz√°m√≠t√≥g√©p'} 1-est dobott! K√∂rpontok elvesztek.`;
      
      // J√°t√©kos v√°lt√°s
      switchPlayer();
    } else {
      // Hozz√°adja a dobott √©rt√©ket a k√∂rpontokhoz
      currentScore += roll;
      document.getElementById(`${activePlayer}Current`).textContent = currentScore;
      
      // Status friss√≠t√©se
      document.getElementById('status').textContent = `${activePlayer === 'player' ? 'J√°t√©kos' : 'Sz√°m√≠t√≥g√©p'} ${roll}-t dobott. K√∂rben: ${currentScore} pont.`;
      
      // Ha a bot k√∂vetkezik, automatikusan j√°tszik
      if (activePlayer === 'bot') {
        botPlay();
      }
    }
  }, 500);
}

function hold() {
  if (gameOver || activePlayer === 'bot') return;
  
  // K√∂rpontok hozz√°ad√°sa az √∂sszpontsz√°mhoz
  playerScore += currentScore;
  document.getElementById('playerScore').textContent = playerScore;
  document.getElementById('playerCurrent').textContent = '0';
  
  // Ellen≈ërizz√ºk a gy≈ëzelmet
  if (playerScore >= 100) {
    endGame('player');
    return;
  }
  
  document.getElementById('status').textContent = `J√°t√©kos meg√°ll, ${currentScore} pontot szerzett. Bot k√∂vetkezik.`;
  currentScore = 0;
  
  // J√°t√©kos v√°lt√°s
  switchPlayer();
  
  // Bot j√∂n
  setTimeout(botPlay, 1000);
}

function switchPlayer() {
  activePlayer = activePlayer === 'player' ? 'bot' : 'player';
  currentScore = 0;
  
  // UI friss√≠t√©se
  document.getElementById('playerArea').classList.toggle('active-player');
  document.getElementById('botArea').classList.toggle('active-player');
  
  // Gombok friss√≠t√©se
  document.getElementById('rollBtn').disabled = activePlayer === 'bot';
  document.getElementById('holdBtn').disabled = activePlayer === 'bot';
}

function botPlay() {
  if (gameOver || activePlayer !== 'bot') return;
  
  // Bot strat√©gia: Dob, am√≠g legal√°bb 20 pontot nem gy≈±jt, vagy 1-est nem dob
  const botThinkTime = 1000;
  
  setTimeout(() => {
    // Bot d√∂nt, dob-e m√©g
    if (currentScore < 20) {
      document.getElementById('status').textContent = 'Bot dob√°st v√°laszt...';
      setTimeout(rollDice, botThinkTime);
    } else {
      // Bot meg√°ll
      botScore += currentScore;
      document.getElementById('botScore').textContent = botScore;
      document.getElementById('botCurrent').textContent = '0';
      
      // Ellen≈ërizz√ºk a gy≈ëzelmet
      if (botScore >= 100) {
        endGame('bot');
        return;
      }
      
      document.getElementById('status').textContent = `Bot meg√°ll, ${currentScore} pontot szerzett. J√°t√©kos k√∂vetkezik.`;
      currentScore = 0;
      
      // J√°t√©kos v√°lt√°s
      switchPlayer();
    }
  }, botThinkTime);
}

function endGame(winner) {
  gameOver = true;
  const winnerText = winner === 'player' ? 'J√°t√©kos' : 'Sz√°m√≠t√≥g√©p';
  document.getElementById('status').textContent = `${winnerText} nyerte a j√°t√©kot! V√©geredm√©ny: J√°t√©kos ${playerScore} - ${botScore} Sz√°m√≠t√≥g√©p`;
  document.getElementById('resetContainer').style.display = 'block';
  document.getElementById('rollBtn').disabled = true;
  document.getElementById('holdBtn').disabled = true;
  
  // Gy≈ëztes kiemel√©se
  document.getElementById(`${winner}Area`).classList.add('winner');
}

startGame();
</script>

</body>
</html>
